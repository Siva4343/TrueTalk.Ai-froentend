/* src/styles/live-caption.css */

/* Container sits fixed at bottom-center with a translucent background
   Adjust positioning as needed. Teams-style: a scrollable box with
   speaker labels and timestamps */

.live-cc-container {
  position: fixed;
  left: 50%;
  transform: translateX(-50%);
  bottom: 18px;
  width: min(92vw, 920px);
  max-width: 920px;
  z-index: 2200;
  pointer-events: none; /* allow clicks to pass through except inside interactive region */
}

.live-cc-inner {
  pointer-events: auto;
  background: linear-gradient(180deg, rgba(10,16,26,0.65), rgba(10,16,26,0.78));
  border-radius: 14px;
  padding: 10px;
  box-shadow: 0 10px 30px rgba(0,0,0,0.45), inset 0 1px 0 rgba(255,255,255,0.02);
  color: #fff;
  backdrop-filter: blur(6px);
  -webkit-backdrop-filter: blur(6px);
  overflow: hidden;
}

/* header */
.live-cc-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: 12px;
  margin-bottom: 8px;
  padding: 0 4px;
}
.live-cc-title {
  font-weight: 700;
  font-size: 13px;
  color: #f0f6ff;
}
.live-cc-note {
  font-size: 12px;
  color: rgba(255,255,255,0.65);
}

/* scrollable box */
.live-cc-box {
  max-height: 180px; /* history area height */
  overflow-y: auto;
  padding: 6px;
  display: flex;
  flex-direction: column;
  gap: 8px;
  scrollbar-width: thin;
  scrollbar-color: rgba(255,255,255,0.12) transparent;
}

/* Webkit scrollbar */
.live-cc-box::-webkit-scrollbar { height: 8px; width: 10px; }
.live-cc-box::-webkit-scrollbar-thumb {
  background: rgba(255,255,255,0.08);
  border-radius: 10px;
  border: 2px solid transparent;
  background-clip: padding-box;
}
.live-cc-box:focus { outline: none; box-shadow: 0 0 0 3px rgba(100,150,255,0.06); }

/* Empty state */
.live-cc-empty {
  color: rgba(255,255,255,0.6);
  font-size: 13px;
  padding: 8px;
  text-align: center;
}

/* Each entry */
.live-cc-entry {
  display: flex;
  gap: 10px;
  align-items: flex-start;
  min-height: 36px;
}

/* avatar / initial */
.live-cc-avatar {
  width: 36px;
  height: 36px;
  border-radius: 10px;
  background: linear-gradient(180deg, rgba(255,255,255,0.06), rgba(255,255,255,0.02));
  display: flex;
  align-items: center;
  justify-content: center;
  color: #fff;
  font-weight: 700;
  font-size: 14px;
  flex-shrink: 0;
  box-shadow: 0 2px 6px rgba(0,0,0,0.45);
}

/* body */
.live-cc-body {
  display: flex;
  flex-direction: column;
  gap: 4px;
  min-width: 0;
}

/* meta row */
.live-cc-meta {
  display: flex;
  gap: 8px;
  align-items: center;
}
.live-cc-speaker {
  font-weight: 700;
  font-size: 13px;
  color: #fff;
}
.live-cc-time {
  font-size: 11px;
  color: rgba(255,255,255,0.6);
}

/* text row */
.live-cc-text {
  background: rgba(0,0,0,0.2);
  padding: 8px 12px;
  border-radius: 999px;
  display: block;
  color: #fff;
  font-size: 14px;
  line-height: 1.25;
  white-space: pre-wrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

/* final vs interim - make interim dimmer and animated */
.live-cc-entry.interim .live-cc-text {
  background: rgba(255,255,255,0.04);
  color: rgba(255,255,255,0.92);
  border: 1px dashed rgba(255,255,255,0.06);
  position: relative;
}

/* small pulsing indicator for interim text */
.live-cc-pulse {
  display:inline-block;
  width:8px; height:8px;
  margin-left:10px;
  background: #8ad4ff;
  border-radius:50%;
  box-shadow: 0 0 6px rgba(138,212,255,0.8);
  vertical-align:middle;
  animation: pulse 1.25s infinite;
}
@keyframes pulse { 0% { transform: scale(.8); opacity:.9 } 70% { transform: scale(1.3); opacity:.25 } 100% { transform: scale(.9); opacity:.9 }}

/* small interim placeholder text */
.live-cc-interim-placeholder {
  color: rgba(255,255,255,0.45);
  font-style: italic;
}

/* responsive tweaks */
@media (max-width: 720px) {
  .live-cc-container { width: min(96vw, 720px); bottom: 12px; }
  .live-cc-box { max-height: 160px; }
  .live-cc-avatar { width: 32px; height: 32px; font-size: 13px; }
  .live-cc-text { font-size: 13px; padding: 8px 10px; }
}
