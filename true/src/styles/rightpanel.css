/* Teams-like Chat UI for RightPanel / SettingsPanel */

/* variables */
:root{
  --chat-bg: #071627;      /* dark navy */
  --panel-bg: rgba(255,255,255,0.02);
  --bubble-me: #eaf6ff;    /* pale blue */
  --bubble-other: rgba(255,255,255,0.06);
  --muted-text: #9fb3c8;
  --accent: #2aa6ff;
  --input-bg: rgba(255,255,255,0.03);
  --avatar-size: 36px;
}

/* chat container */
.chat-tab, .chat-list, .chat-messages {
  background: transparent;
  color: #E6F1F9;
  font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
}

/* message scroller */
.chat-messages {
  max-height: calc(100vh - 340px); /* room for header/footer in panel */
  overflow-y: auto;
  padding: 12px;
  display: flex;
  flex-direction: column;
  gap: 10px;
  scrollbar-width: thin;
}

/* single chat row */
.chat-item {
  display: flex;
  gap: 10px;
  align-items: flex-end;
  max-width: 100%;
}

/* avatar */
.chat-item .avatar {
  width: var(--avatar-size);
  height: var(--avatar-size);
  min-width: var(--avatar-size);
  border-radius: 50%;
  display: grid;
  place-items: center;
  font-weight: 700;
  color: #073044;
  background: linear-gradient(180deg,#fff,#dfeffb);
  box-shadow: 0 2px 6px rgba(0,0,0,0.25);
  font-size: 14px;
}

/* bubble common */
.chat-item .bubble {
  display: inline-block;
  padding: 10px 14px;
  border-radius: 14px;
  line-height: 1.3;
  max-width: 520px;
  word-wrap: break-word;
  box-shadow: 0 4px 12px rgba(2,8,23,0.6);
  font-size: 14px;
  color: #012027;
}

/* message 'me' (right aligned) */
.chat-item.me {
  justify-content: flex-end;
  flex-direction: row-reverse;
}
.chat-item.me .bubble {
  background: var(--bubble-me);
  color: #023047;
  border-bottom-right-radius: 6px;
  border-bottom-left-radius: 14px;
  border-top-right-radius: 14px;
  border-top-left-radius: 14px;
}

/* message other (left aligned) */
.chat-item.other .bubble {
  background: var(--bubble-other);
  color: #d9edf8;
}

/* message meta (name + time) */
.chat-item .meta {
  display: flex;
  gap: 8px;
  align-items: center;
  font-size: 12px;
  color: var(--muted-text);
  margin-bottom: 6px;
}

/* message body containing meta + bubble */
.msg-body-wrap { display:flex; flex-direction:column; align-items: flex-start; gap:6px; }

/* me alignment - meta to the right */
.chat-item.me .msg-body-wrap { align-items:flex-end; text-align: right; }

/* compact system messages */
.chat-message.system {
  display: block;
  text-align: center;
  color: var(--muted-text);
  font-style: italic;
  padding: 6px 0;
}

/* chat input row */
.chat-input {
  display: flex;
  gap: 8px;
  align-items: center;
  padding: 12px;
  border-top: 1px solid rgba(255,255,255,0.02);
  background: linear-gradient(180deg, rgba(255,255,255,0.01), transparent);
}
.chat-input input[type="text"], .chat-input input[aria-label] {
  flex: 1;
  padding: 10px 12px;
  border-radius: 10px;
  border: none;
  background: var(--input-bg);
  color: #eaf6ff;
  outline: none;
}
.chat-input button[type="submit"] {
  padding: 8px 12px;
  border-radius: 10px;
  background: var(--accent);
  color: white;
  border: none;
  cursor: pointer;
  box-shadow: 0 6px 18px rgba(42,166,255,0.12);
}
.chat-input .tool-btn {
  padding: 8px;
  border-radius: 8px;
  background: rgba(255,255,255,0.02);
  border: 1px solid rgba(255,255,255,0.03);
  color: var(--muted-text);
}

/* smaller screens */
@media (max-width: 880px) {
  .chat-messages { max-height: calc(100vh - 260px); }
  .chat-item .bubble { max-width: calc(100vw - 140px); }
  .right-panel { width: 320px; right: 8px; }
}

/* nice scroll for webkit */
.chat-messages::-webkit-scrollbar { height: 8px; width: 8px; }
.chat-messages::-webkit-scrollbar-thumb { background: rgba(255,255,255,0.06); border-radius: 99px; }
